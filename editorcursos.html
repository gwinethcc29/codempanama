<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cursos</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
     <!-- Incluir Bootstrap CSS -->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
     <!-- AOS CSS for animations -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    <script src="firebase.js"></script>

    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: #f0f4f8;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #1E3A8A;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 24px;
        }
        .btn-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: #FFB833;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
            margin-top: 95px;
        }
        .container {
            padding: 30px;
        }
        .courses {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        .course-card {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        .course-card:hover {
            transform: translateY(-10px);
        }
        .course-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
        }
        .course-card h3 {
            font-size: 20px;
            margin: 15px 0;
            color: #1E3A8A;
        }
        .course-card p {
            color: #555;
            font-size: 14px;
            line-height: 1.6;
        }
        .btn-enroll {
            background-color: #FFB833;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
            display: block;
            margin-top: 10px;
        }
        .missions {
            margin-top: 40px;
        }
        .mission {
            background-color: #1E3A8A;
            color: white;
            padding: 10px;
            margin: 10px 0;
            text-align: center;
            cursor: pointer;
            border-radius: 5px;
            font-size: 18px;
            transition: background-color 0.3s ease;
        }
        .mission:hover {
            background-color: #1D4ED8;
        }
        .badge {
            margin-top: 20px;
            background-color: #FFB833;
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-size: 18px;
            display: none;
        }
        .badge.show {
            display: block;
        }
        .medals-counter {
            margin-top: 30px;
            font-size: 20px;
            color: #333;
            text-align: center;
        }
        .admin-form {
            display: none;
            margin-top: 40px;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .admin-form input, .admin-form textarea, .admin-form button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .admin-form button {
            background-color: #1E3A8A;
            color: white;
            cursor: pointer;
            font-size: 16px;
        }
        .admin-form button:hover {
            background-color: #333;
        }

        .navbar {
    background-color: #222 !important; /* Color de fondo */
    padding: 20px 25px; /* Aumenta el espacio dentro de la barra */
    font-size: 1.3rem; /* Hace que los textos sean más grandes */
    font-family: Arial, Helvetica, sans-serif;
}

.logo {
    width: 80px;  /* Aumenta el tamaño del logo */
    height: auto;
    margin-right: 15px;
}

.navbar-nav .nav-link {
    padding: 10px 15px; /* Aumenta el área de clic de los enlaces */
    color: bisque !important;
}

/* Estilo para los submenús */
.navbar-nav .nav-item .dropdown-menu {
    background-color: black !important; /* Fondo negro */
    border-radius: 5px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
    color: bisque;
    width: auto; /* Ajusta el ancho del submenú */
    min-width: 200px; /* Asegura que los submenús tengan un tamaño mínimo */
    position: absolute; /* Asegura que el submenú no se desborde */
    right: 0; /* Posiciona el submenú a la derecha */
    left: auto; /* Previene que se mueva a la izquierda */
}

.navbar-nav .nav-item .dropdown-item {
    padding: 10px 15px;
    color: bisque !important;
    background-color: black !important;
}

.navbar-nav .nav-item .dropdown-item:hover {
    background-color: #a47551 !important;
    color: white !important;
}

.navbar-nav .nav-item .dropdown-toggle::after {
    color: bisque; /* Cambia el color del icono del desplegable */
}

    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <!-- Espacio para el logo -->
            <a class="navbar-brand" href="#"></a>
            <img src="Captura de pantalla 2025-02-28 133102.png" alt="Logo de la empresa" class="logo">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" 
                aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav ms-auto">
                    <a class="nav-link active" aria-current="page" href="index.html">Inicio</a>
    
                    <!-- Boletines con submenú de Noticias y más -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Boletines
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="boletines.html">Boletines informativos</a></li>
                            <li><a class="dropdown-item" href="notic.html">Noticias</a></li> <!-- Nuevo elemento en Boletines -->
                        </ul>
                    </li>
    
                    <!-- Cursos con submenú de Retos, Cómics y más -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownCursos" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Cursos
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdownCursos">
                            <li><a class="dropdown-item" href="editorcursos.html">Cursos</a></li>
                            <li><a class="dropdown-item" href="#">Cómics</a></li>
                            <li><a class="dropdown-item" href="#">Retos</a></li> <!-- Nuevo elemento en Cursos -->
                        </ul>
                    </li>
    
                    <a class="nav-link" href="podcasts.html">Podcasts</a>
                    <a class="nav-link" href="sobreus.html">Nosotros</a>
                    
                    <!-- Perfil con submenú de Cerrar sesión y más -->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownPerfil" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Perfil
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdownPerfil">
                            <li><a class="dropdown-item" href="perfil.html">Ver Perfil</a></li>
                            <li><a class="dropdown-item" id="logoutButton">Cerrar sesión</a></li> <!-- Cerrar sesión debajo de Perfil -->
                           
                            <script>document.getElementById('logoutButton').addEventListener('click', () => {
                              localStorage.removeItem('token'); // Borra el token de sesión
                              localStorage.removeItem('role'); // Borra el rol guardado
                              alert('Has cerrado sesión'); // Muestra un mensaje de confirmación
                          });
                        </script>
                          
                        </ul>
                    </li>
                </div>
            </div>
        </div>
    </nav>
    

    <header>
        Bienvenido a nuestros cursos
        <button class="btn-toggle" onclick="toggleView()">Vista Administrador</button>
    </header>

    <div class="container">
        <div class="courses" id="courses">
            <div class="course-card">
                <img src="abarzo.jpg" alt="Curso 1">
                <h3>Cívica y democracia</h3>
                <p>Aprende los fundamentos de la programación y cómo crear tus propios proyectos.</p>
               <a href="democracia.html"> <button class="btn-enroll">Detalles</button></a>
            </div>
            <div class="course-card">
                <img src="pruebAAAAAA.jpg" alt="Curso 2">
                <h3>Gobernanza y gobernabilidad</h3>
                <p>Entra al mundo del desarrollo web y crea tu primer sitio interactivo.</p>
                <button class="btn-enroll">Detalles</button>
            </div>
            <div class="course-card">
                <img src="angyyyysalomon.jpg" alt="Curso 2">
                <h3>Instituciones políticas y públicas I</h3>
                <p>Entra al mundo del desarrollo web y crea tu primer sitio interactivo.</p>
                <button class="btn-enroll">Detalles</button>
            </div>
            
            <div class="course-card">
                <img src="muchacho.jpg" alt="Curso 2">
                <h3>Instituciones políticas y públicas II</h3>
                <p>Entra al mundo del desarrollo web y crea tu primer sitio interactivo.</p>
                <button class="btn-enroll">Detalles</button>
            </div>
            <div class="course-card">
                <img src="informate.jpg" alt="Curso 1">
                <h3>Ciudadanía</h3>
                <p>Aprende los fundamentos de la programación y cómo crear tus propios proyectos.</p>
                <button class="btn-enroll">Detalles</button>
            </div>

            <div class="course-card">
                <img src="grupo.jpg" alt="Curso 1">
                <h3>Proyectos de nuestros alumnos</h3>
                <p>Aprende los fundamentos de la programación y cómo crear tus propios proyectos.</p>
                <button class="btn-enroll">Detalles</button>
            </div>
        </div>

        <!-- Formulario para añadir cursos (solo visible para Administradores) -->
        <div class="admin-form" id="adminForm">
            <h3>Añadir Nuevo Curso</h3>
            <input type="text" id="courseTitle" placeholder="Título del Curso" required>
            <textarea id="courseDescription" placeholder="Descripción del Curso" rows="4" required></textarea>
            <input type="file" id="courseImage" required>
            <button onclick="addCourse()">Añadir Curso</button>
        </div>

        <div class="missions">
            <div class="mission" onclick="completeMission('Visitar Diario')">Visitar Diario</div>
        </div>

        <div class="badge" id="medal">
            ¡Felicidades! Has ganado la <strong>Medalla CodeM</strong> por visitar el curso hoy.
        </div>

        <div class="medals-counter">
            <strong>Medallas ganadas:</strong> <span id="medalsCount">0</span>
        </div>
    </div>

    <script>
        let isAdmin = false;
        let visitedToday = false;

        // Obtener las medallas almacenadas
        let medals = localStorage.getItem('medalsCount') ? parseInt(localStorage.getItem('medalsCount')) : 0;

        // Mostrar el contador de medallas al cargar
        document.getElementById('medalsCount').textContent = medals;

        function toggleView() {
            if (isAdmin) {
                isAdmin = false;
                document.querySelector('.btn-toggle').textContent = 'Vista Administrador';
                document.getElementById('adminForm').style.display = 'none'; // Ocultar formulario
                alert("Has cambiado a la vista de Estudiante.");
            } else {
                let password = prompt("Introduce la contraseña de Administrador:");
                if (password === "admin123") {
                    isAdmin = true;
                    document.querySelector('.btn-toggle').textContent = 'Vista Estudiante';
                    document.getElementById('adminForm').style.display = 'block'; // Mostrar formulario
                    alert("Has cambiado a la vista de Administrador.");
                } else {
                    alert("Contraseña incorrecta.");
                }
            }
        }

        function addCourse() {
            const title = document.getElementById('courseTitle').value;
            const description = document.getElementById('courseDescription').value;
            const imageInput = document.getElementById('courseImage');
            const imageFile = imageInput.files[0];

            if (title && description && imageFile) {
                // Crear una nueva card de curso
                const newCourse = document.createElement('div');
                newCourse.classList.add('course-card');

                // Crear URL de la imagen cargada
                const imageURL = URL.createObjectURL(imageFile);

                newCourse.innerHTML = `
    <img src="${imageURL}" alt="${title}">
    <h3>${title}</h3>
    <p>${description}</p>
    <button class="btn-enroll">Inscribirse</button>
`;

                
                // Añadir el nuevo curso al contenedor de cursos
                document.getElementById('courses').appendChild(newCourse);

                // Limpiar el formulario
                document.getElementById('courseTitle').value = '';
                document.getElementById('courseDescription').value = '';
                imageInput.value = '';
            } else {
                alert("Por favor, complete todos los campos.");
            }
        }

        function completeMission(mission) {
            if (mission === 'Visitar Diario') {
                const today = new Date().toLocaleDateString();
                const lastVisit = localStorage.getItem('lastVisit');

                if (lastVisit !== today && !visitedToday) {
                    localStorage.setItem('lastVisit', today);
                    document.getElementById('medal').classList.add('show');
                    visitedToday = true;

                    // Incrementar contador de medallas y guardarlo en localStorage
                    medals++;
                    localStorage.setItem('medalsCount', medals);
                    document.getElementById('medalsCount').textContent = medals;
                } else if (lastVisit === today) {
                    alert("Ya has recibido tu medalla hoy.");
                }
            }
        }
    </script>

</body>
</html>